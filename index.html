<!doctype html>
<html lang="it">
    <head>
        <meta charset="UTF-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
        />
        <title>FocusTask - Gestione Attivit√† Professionale</title>
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        />
        <style>
            :root {
                --dark-bg: #121212;
                --panel-bg: #1e1e1e;
                --card-bg: #252525;
                --accent: #2ecc71;
                --accent-dark: #27ae60;
                --text-primary: #f5f5f5;
                --text-secondary: #b0b0b0;
                --border: #333;
                --priority-high: #e74c3c;
                --priority-medium: #f39c12;
                --priority-low: #3498db;
                --university: #9b59b6;
                --finance: #1abc9c;
                --personal: #e67e22;
                --shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
                --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.1);
            }

            .light-theme {
                --dark-bg: #f5f7fa;
                --panel-bg: #ffffff;
                --card-bg: #ffffff;
                --text-primary: #2d3748;
                --text-secondary: #718096;
                --border: #e2e8f0;
                --shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            }

            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
                transition: var(--transition);
            }

            body {
                font-family: "Segoe UI", "Roboto", sans-serif;
                background: var(--dark-bg);
                color: var(--text-primary);
                min-height: 100vh;
                padding: 15px;
                line-height: 1.6;
                transition: background 0.5s ease;
            }

            .container {
                max-width: 1200px;
                margin: 0 auto;
            }

            header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 15px 0;
                border-bottom: 1px solid var(--border);
                margin-bottom: 20px;
                position: relative;
                flex-wrap: wrap;
            }

            .logo {
                display: flex;
                align-items: center;
                gap: 10px;
            }

            .logo-icon {
                width: 40px;
                height: 40px;
                background: linear-gradient(
                    135deg,
                    var(--accent),
                    var(--accent-dark)
                );
                border-radius: 10px;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 20px;
                color: white;
                box-shadow: 0 4px 10px rgba(46, 204, 113, 0.3);
            }

            .logo-text h1 {
                font-size: 1.5rem;
                font-weight: 700;
                background: linear-gradient(
                    to right,
                    var(--accent),
                    var(--accent-dark)
                );
                -webkit-background-clip: text;
                background-clip: text;
                color: transparent;
            }

            .logo-text p {
                color: var(--text-secondary);
                font-size: 0.8rem;
                letter-spacing: 0.5px;
            }

            .date-display {
                text-align: right;
                margin-top: 10px;
            }

            .current-date {
                font-size: 1rem;
                font-weight: 300;
            }

            .current-time {
                font-size: 1.8rem;
                font-weight: 300;
                font-family: "Courier New", monospace;
                color: var(--accent);
            }

            .theme-toggle {
                position: absolute;
                top: 15px;
                right: 15px;
                width: 40px;
                height: 40px;
                border-radius: 50%;
                background: var(--card-bg);
                border: none;
                color: var(--text-primary);
                cursor: pointer;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 1.2rem;
                box-shadow: var(--shadow);
                z-index: 10;
            }

            .theme-toggle:hover {
                transform: scale(1.1) rotate(15deg);
            }

            .dashboard {
                display: flex;
                flex-direction: column;
                gap: 20px;
                margin-bottom: 20px;
            }

            .main-panel,
            .sidebar {
                background: var(--panel-bg);
                border-radius: 16px;
                padding: 20px;
                box-shadow: var(--shadow);
            }

            .panel-title {
                display: flex;
                align-items: center;
                gap: 10px;
                margin-bottom: 20px;
                padding-bottom: 12px;
                border-bottom: 1px solid var(--border);
            }

            .panel-title i {
                color: var(--accent);
                font-size: 1.5rem;
            }

            .panel-title h2 {
                font-size: 1.4rem;
                font-weight: 600;
            }

            .input-section {
                display: flex;
                flex-direction: column;
                gap: 12px;
                margin-bottom: 25px;
            }

            #task-input {
                padding: 14px 18px;
                background: var(--card-bg);
                border: 1px solid var(--border);
                border-radius: 10px;
                color: var(--text-primary);
                font-size: 1rem;
                outline: none;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
                width: 100%;
            }

            #task-input:focus {
                border-color: var(--accent);
                box-shadow: 0 0 0 3px rgba(46, 204, 113, 0.2);
            }

            #category-select,
            #priority-select {
                padding: 14px;
                background: var(--card-bg);
                border: 1px solid var(--border);
                border-radius: 10px;
                color: var(--text-primary);
                font-size: 1rem;
                cursor: pointer;
                outline: none;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
                width: 100%;
            }

            #add-btn {
                padding: 14px;
                background: linear-gradient(
                    135deg,
                    var(--accent),
                    var(--accent-dark)
                );
                color: white;
                border: none;
                border-radius: 10px;
                cursor: pointer;
                font-size: 1rem;
                font-weight: 600;
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 8px;
                box-shadow: 0 4px 10px rgba(46, 204, 113, 0.3);
                width: 100%;
            }

            #add-btn:hover {
                transform: translateY(-2px);
                box-shadow: 0 7px 15px rgba(46, 204, 113, 0.4);
            }

            .filter-section {
                display: flex;
                flex-wrap: wrap;
                gap: 10px;
                margin-bottom: 20px;
                padding: 12px 0;
                border-bottom: 1px solid var(--border);
            }

            .filter-group {
                display: flex;
                flex-wrap: wrap;
                gap: 8px;
                width: 100%;
            }

            .filter-btn {
                padding: 8px 16px;
                background: var(--card-bg);
                border: 1px solid var(--border);
                border-radius: 30px;
                color: var(--text-secondary);
                cursor: pointer;
                font-weight: 500;
                display: flex;
                align-items: center;
                gap: 6px;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
                font-size: 0.9rem;
                flex: 1 0 auto;
            }

            .filter-btn.active,
            .filter-btn:hover {
                background: var(--accent);
                color: white;
                border-color: var(--accent);
            }

            .stats-cards {
                display: grid;
                grid-template-columns: repeat(3, 1fr);
                gap: 15px;
                margin-bottom: 25px;
            }

            .stat-card {
                background: var(--card-bg);
                border-radius: 12px;
                padding: 18px;
                text-align: center;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
                transition: transform 0.3s ease;
            }

            .stat-card:hover {
                transform: translateY(-5px);
            }

            .stat-card i {
                font-size: 1.8rem;
                margin-bottom: 12px;
                color: var(--accent);
            }

            .stat-card .number {
                font-size: 1.8rem;
                font-weight: 300;
                margin-bottom: 5px;
                color: var(--accent);
            }

            .stat-card .label {
                color: var(--text-secondary);
                font-size: 0.9rem;
            }

            .task-list {
                max-height: 400px;
                overflow-y: auto;
                padding-right: 8px;
            }

            .task-list::-webkit-scrollbar {
                width: 6px;
            }

            .task-list::-webkit-scrollbar-track {
                background: var(--panel-bg);
                border-radius: 4px;
            }

            .task-list::-webkit-scrollbar-thumb {
                background: var(--accent);
                border-radius: 4px;
            }

            .task-item {
                background: var(--card-bg);
                border-radius: 12px;
                padding: 15px;
                margin-bottom: 12px;
                display: flex;
                align-items: flex-start;
                border-left: 4px solid var(--priority-medium);
                animation: fadeIn 0.4s;
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
                transition: transform 0.3s ease;
                position: relative;
                flex-wrap: wrap;
            }

            .task-item:hover {
                transform: translateX(5px);
            }

            .task-item.priority-high {
                border-left-color: var(--priority-high);
            }

            .task-item.priority-medium {
                border-left-color: var(--priority-medium);
            }

            .task-item.priority-low {
                border-left-color: var(--priority-low);
            }

            .task-item.university {
                border-left-color: var(--university);
            }

            .task-item.finance {
                border-left-color: var(--finance);
            }

            .task-item.personal {
                border-left-color: var(--personal);
            }

            .task-checkbox {
                min-width: 22px;
                height: 22px;
                border: 2px solid var(--border);
                border-radius: 50%;
                cursor: pointer;
                display: flex;
                align-items: center;
                justify-content: center;
                margin-right: 12px;
                margin-top: 3px;
                flex-shrink: 0;
            }

            .task-checkbox.checked {
                background: var(--accent);
                border-color: var(--accent);
            }

            .task-checkbox.checked i {
                color: white;
                font-size: 12px;
                display: block;
            }

            .task-content {
                flex: 1;
                min-width: calc(100% - 120px);
            }

            .task-header {
                display: flex;
                justify-content: space-between;
                margin-bottom: 8px;
                align-items: center;
                flex-wrap: wrap;
                gap: 8px;
            }

            .task-title {
                font-size: 1.1rem;
                font-weight: 600;
                width: 100%;
            }

            .task-category {
                font-size: 0.8rem;
                padding: 4px 10px;
                border-radius: 20px;
                background: rgba(155, 89, 182, 0.2);
                color: var(--university);
            }

            .task-category.finance {
                background: rgba(26, 188, 156, 0.2);
                color: var(--finance);
            }

            .task-category.personal {
                background: rgba(230, 126, 34, 0.2);
                color: var(--personal);
            }

            .task-text {
                margin-bottom: 12px;
                color: var(--text-secondary);
                line-height: 1.5;
                font-size: 0.95rem;
            }

            .task-meta {
                display: flex;
                gap: 15px;
                font-size: 0.85rem;
                flex-wrap: wrap;
                margin-top: 10px;
            }

            .task-priority,
            .task-date {
                display: flex;
                align-items: center;
                gap: 6px;
                color: var(--text-secondary);
            }

            .priority-dot {
                width: 8px;
                height: 8px;
                border-radius: 50%;
            }

            .priority-high .priority-dot {
                background: var(--priority-high);
            }

            .priority-medium .priority-dot {
                background: var(--priority-medium);
            }

            .priority-low .priority-dot {
                background: var(--priority-low);
            }

            .task-actions {
                display: flex;
                gap: 8px;
                margin-left: auto;
                margin-top: 10px;
            }

            .task-btn {
                width: 32px;
                height: 32px;
                border-radius: 50%;
                border: none;
                background: var(--panel-bg);
                color: var(--text-secondary);
                cursor: pointer;
                display: flex;
                align-items: center;
                justify-content: center;
                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            }

            .share-btn:hover {
                background: #3498db;
                color: white;
            }

            .edit-btn:hover {
                background: var(--accent);
                color: white;
            }

            .delete-btn:hover {
                background: var(--priority-high);
                color: white;
            }

            .completed .task-title,
            .completed .task-text {
                color: var(--text-secondary);
                text-decoration: line-through;
            }

            .sidebar {
                display: flex;
                flex-direction: column;
                gap: 20px;
            }

            .focus-card,
            .calendar-card,
            .analytics-card {
                background: var(--panel-bg);
                border-radius: 16px;
                padding: 20px;
                box-shadow: var(--shadow);
            }

            .focus-timer {
                text-align: center;
                margin: 15px 0;
            }

            .timer-display {
                font-size: 2.8rem;
                font-family: "Courier New", monospace;
                margin: 15px 0;
                color: var(--accent);
                text-shadow: 0 0 10px rgba(46, 204, 113, 0.3);
            }

            .timer-controls {
                display: flex;
                justify-content: center;
                gap: 12px;
                margin-top: 15px;
            }

            .timer-btn {
                padding: 10px 20px;
                border: none;
                border-radius: 30px;
                background: var(--card-bg);
                color: var(--text-primary);
                font-weight: 600;
                cursor: pointer;
                display: flex;
                align-items: center;
                gap: 6px;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                font-size: 0.9rem;
            }

            .timer-btn:hover {
                transform: translateY(-2px);
            }

            .timer-btn.start {
                background: linear-gradient(
                    135deg,
                    var(--accent),
                    var(--accent-dark)
                );
                color: white;
            }

            .timer-btn.stop {
                background: var(--priority-high);
                color: white;
            }

            .calendar-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 15px;
            }

            .calendar-grid {
                display: grid;
                grid-template-columns: repeat(7, 1fr);
                gap: 6px;
                text-align: center;
            }

            .calendar-day {
                height: 35px;
                display: flex;
                align-items: center;
                justify-content: center;
                border-radius: 8px;
                font-weight: 500;
                background: var(--card-bg);
                cursor: pointer;
                transition: all 0.2s ease;
                font-size: 0.9rem;
            }

            .calendar-day:hover {
                transform: scale(1.1);
            }

            .calendar-day.header {
                color: var(--text-secondary);
                font-size: 0.8rem;
                background: transparent;
            }

            .calendar-day.active {
                background: var(--accent);
                color: white;
            }

            .calendar-day.has-tasks {
                position: relative;
            }

            .calendar-day.has-tasks::after {
                content: "";
                position: absolute;
                bottom: 3px;
                width: 5px;
                height: 5px;
                background: var(--accent);
                border-radius: 50%;
            }

            .progress-bar {
                height: 8px;
                background: var(--card-bg);
                border-radius: 4px;
                margin: 12px 0;
                overflow: hidden;
            }

            .progress-fill {
                height: 100%;
                background: var(--accent);
                border-radius: 4px;
                width: 65%;
            }

            .progress-stats {
                display: flex;
                justify-content: space-between;
                color: var(--text-secondary);
                font-size: 0.85rem;
            }

            .analytics-categories {
                display: flex;
                justify-content: space-between;
                gap: 8px;
                margin-top: 15px;
            }

            .category-item {
                text-align: center;
                flex: 1;
            }

            .category-icon {
                width: 50px;
                height: 50px;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                margin: 0 auto 8px;
                font-size: 1.2rem;
                color: white;
            }

            .category-name {
                font-weight: 500;
                margin-bottom: 4px;
                font-size: 0.9rem;
            }

            .category-count {
                color: var(--text-secondary);
                font-size: 0.8rem;
            }

            .share-modal {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.7);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 1000;
                opacity: 0;
                visibility: hidden;
                transition: all 0.3s ease;
            }

            .share-modal.active {
                opacity: 1;
                visibility: visible;
            }

            .share-content {
                background: var(--panel-bg);
                border-radius: 16px;
                padding: 25px;
                width: 90%;
                max-width: 100%;
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
                transform: translateY(-20px);
                transition: transform 0.3s ease;
            }

            .share-modal.active .share-content {
                transform: translateY(0);
            }

            .share-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 15px;
            }

            .share-title {
                font-size: 1.3rem;
                color: var(--accent);
            }

            .close-share {
                background: none;
                border: none;
                color: var(--text-secondary);
                font-size: 1.5rem;
                cursor: pointer;
            }

            .share-options {
                display: flex;
                gap: 12px;
                margin-top: 15px;
            }

            .share-option {
                flex: 1;
                padding: 12px;
                background: var(--card-bg);
                border-radius: 10px;
                text-align: center;
                cursor: pointer;
                transition: all 0.3s ease;
            }

            .share-option:hover {
                transform: translateY(-5px);
                background: var(--accent);
                color: white;
            }

            .share-option i {
                font-size: 1.8rem;
                margin-bottom: 8px;
            }

            footer {
                text-align: center;
                padding: 20px 0;
                color: var(--text-secondary);
                border-top: 1px solid var(--border);
                margin-top: 15px;
                font-size: 0.9rem;
            }

            .signature {
                margin-top: 8px;
                font-size: 0.85rem;
                font-weight: 600;
                background: linear-gradient(
                    to right,
                    var(--accent),
                    var(--accent-dark)
                );
                -webkit-background-clip: text;
                background-clip: text;
                color: transparent;
            }

            @keyframes fadeIn {
                from {
                    opacity: 0;
                    transform: translateY(10px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            @media (min-width: 768px) {
                .dashboard {
                    display: grid;
                    grid-template-columns: 1fr 350px;
                    gap: 25px;
                }

                .input-section {
                    grid-template-columns: 1fr 180px 150px 140px;
                }

                .input-section {
                    display: grid;
                    flex-direction: row;
                }

                .filter-section {
                    flex-wrap: nowrap;
                    justify-content: space-between;
                }

                .filter-group {
                    width: auto;
                }

                .logo-text h1 {
                    font-size: 2.2rem;
                }

                .panel-title h2 {
                    font-size: 1.8rem;
                }
            }

            @media (max-width: 480px) {
                .stats-cards {
                    grid-template-columns: 1fr;
                    gap: 12px;
                }

                .analytics-categories {
                    flex-direction: column;
                    gap: 15px;
                }

                .category-item {
                    display: flex;
                    align-items: center;
                    text-align: left;
                    gap: 15px;
                }

                .category-icon {
                    margin: 0;
                }

                .category-info {
                    flex: 1;
                }

                .task-actions {
                    margin-left: 0;
                    width: 100%;
                    justify-content: flex-end;
                }

                .task-content {
                    min-width: calc(100% - 40px);
                }
            }
        </style>
    </head>
    <body>
        <div class="container">
            <header>
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="logo-text">
                        <h1>FocusTask</h1>
                        <p>Gestione attivit√† per professionisti</p>
                    </div>
                </div>
                <div class="date-display">
                    <div class="current-date">Mercoled√¨, 16 Luglio 2025</div>
                    <div class="current-time" id="current-time">18:45:32</div>
                </div>
                <button class="theme-toggle" id="theme-toggle">
                    <i class="fas fa-moon"></i>
                </button>
            </header>

            <div class="dashboard">
                <div class="main-panel">
                    <div class="panel-title">
                        <i class="fas fa-tasks"></i>
                        <h2>Gestione Attivit√†</h2>
                    </div>

                    <div class="input-section">
                        <input
                            type="text"
                            id="task-input"
                            placeholder="Aggiungi una nuova attivit√†..."
                            autocomplete="off"
                        />
                        <select id="category-select">
                            <option value="university">Universit√†</option>
                            <option value="finance" selected>Finanza</option>
                            <option value="personal">Personale</option>
                        </select>
                        <select id="priority-select">
                            <option value="high">Priorit√† Alta</option>
                            <option value="medium" selected>
                                Priorit√† Media
                            </option>
                            <option value="low">Priorit√† Bassa</option>
                        </select>
                        <button id="add-btn">
                            <i class="fas fa-plus"></i> Aggiungi
                        </button>
                    </div>

                    <div class="filter-section">
                        <div class="filter-group">
                            <button class="filter-btn active">
                                <i class="fas fa-list"></i> Tutte
                            </button>
                            <button class="filter-btn">
                                <i class="fas fa-university"></i> Universit√†
                            </button>
                            <button class="filter-btn">
                                <i class="fas fa-chart-line"></i> Finanza
                            </button>
                            <button class="filter-btn">
                                <i class="fas fa-user"></i> Personale
                            </button>
                        </div>
                        <div class="filter-group">
                            <button class="filter-btn">
                                <i class="fas fa-fire"></i> Alta Priorit√†
                            </button>
                            <button class="filter-btn">
                                <i class="fas fa-check-circle"></i> Completate
                            </button>
                        </div>
                    </div>

                    <div class="stats-cards">
                        <div class="stat-card">
                            <i class="fas fa-tasks"></i>
                            <div class="number" id="total-tasks">4</div>
                            <div class="label">Totale Attivit√†</div>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-check-circle"></i>
                            <div class="number" id="completed-tasks">1</div>
                            <div class="label">Completate</div>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-exclamation-circle"></i>
                            <div class="number" id="pending-tasks">3</div>
                            <div class="label">In Attesa</div>
                        </div>
                    </div>

                    <div class="task-list" id="task-list">
                        <!-- Tasks will be dynamically added here -->
                    </div>
                </div>

                <div class="sidebar">
                    <div class="focus-card">
                        <div class="panel-title">
                            <i class="fas fa-hourglass-half"></i>
                            <h2>Focus Timer</h2>
                        </div>
                        <div class="focus-timer">
                            <div class="timer-display" id="timer-display">
                                25:00
                            </div>
                            <div class="timer-controls">
                                <button class="timer-btn start">
                                    <i class="fas fa-play"></i> Inizia
                                </button>
                                <button class="timer-btn stop">
                                    <i class="fas fa-stop"></i> Stop
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="calendar-card">
                        <div class="panel-title">
                            <i class="far fa-calendar-alt"></i>
                            <h2>Calendario</h2>
                        </div>
                        <div class="calendar-header">
                            <button class="task-btn" id="prev-month">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <h3 id="current-month">Luglio 2025</h3>
                            <button class="task-btn" id="next-month">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                        <div class="calendar-grid" id="calendar-grid">
                            <!-- Calendar will be generated dynamically -->
                        </div>
                    </div>

                    <div class="analytics-card">
                        <div class="panel-title">
                            <i class="fas fa-chart-pie"></i>
                            <h2>Analisi Produttivit√†</h2>
                        </div>
                        <h3 style="margin: 15px 0 8px">
                            Completamento Attivit√†
                        </h3>
                        <div class="progress-bar">
                            <div class="progress-fill" id="progress-fill"></div>
                        </div>
                        <div class="progress-stats">
                            <span id="progress-percent">65% completato</span>
                            <span id="progress-count">1/4 attivit√†</span>
                        </div>

                        <h3 style="margin: 20px 0 8px">
                            Distribuzione per Categoria
                        </h3>
                        <div class="analytics-categories">
                            <div class="category-item">
                                <div
                                    class="category-icon"
                                    style="background: var(--university)"
                                >
                                    <i class="fas fa-university"></i>
                                </div>
                                <div class="category-info">
                                    <div class="category-name">Universit√†</div>
                                    <div
                                        class="category-count"
                                        id="university-count"
                                    >
                                        2 attivit√†
                                    </div>
                                </div>
                            </div>
                            <div class="category-item">
                                <div
                                    class="category-icon"
                                    style="background: var(--finance)"
                                >
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <div class="category-info">
                                    <div class="category-name">Finanza</div>
                                    <div
                                        class="category-count"
                                        id="finance-count"
                                    >
                                        1 attivit√†
                                    </div>
                                </div>
                            </div>
                            <div class="category-item">
                                <div
                                    class="category-icon"
                                    style="background: var(--personal)"
                                >
                                    <i class="fas fa-user"></i>
                                </div>
                                <div class="category-info">
                                    <div class="category-name">Personale</div>
                                    <div
                                        class="category-count"
                                        id="personal-count"
                                    >
                                        1 attivit√†
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <footer>
                <p>
                    FocusTask ¬© 2025 - Strumento professionale per la gestione
                    del tempo e delle attivit√†
                </p>
                <p class="signature">BY SEBA AND GEN MADE IN LAGO</p>
            </footer>
        </div>

        <!-- Share Modal -->
        <div class="share-modal" id="share-modal">
            <div class="share-content">
                <div class="share-header">
                    <h3 class="share-title">Condividi Attivit√†</h3>
                    <button class="close-share" id="close-share">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <p id="share-task-text">Preparare report trimestrale</p>
                <div class="share-options">
                    <div class="share-option" id="share-whatsapp">
                        <i class="fab fa-whatsapp"></i>
                        <div>WhatsApp</div>
                    </div>
                    <div class="share-option" id="share-email">
                        <i class="fas fa-envelope"></i>
                        <div>Email</div>
                    </div>
                    <div class="share-option" id="share-copy">
                        <i class="fas fa-copy"></i>
                        <div>Copia</div>
                    </div>
                </div>
            </div>
        </div>

        <script>
            // Sample tasks data
            let tasks = [
                {
                    id: 1,
                    title: "Preparare report trimestrale",
                    description:
                        "Analizzare i dati finanziari e preparare il report per la direzione",
                    category: "finance",
                    priority: "high",
                    dueDate: "20/07/2025",
                    completed: true,
                },
                {
                    id: 2,
                    title: "Studiare per esame di Economia",
                    description:
                        "Capitoli 5-8: Teoria dei giochi e mercati finanziari",
                    category: "university",
                    priority: "medium",
                    dueDate: "25/07/2025",
                    completed: false,
                },
                {
                    id: 3,
                    title: "Pianificare investimenti personali",
                    description:
                        "Rivedere portafoglio investimenti e valutare nuove opportunit√†",
                    category: "personal",
                    priority: "low",
                    dueDate: "30/07/2025",
                    completed: false,
                },
                {
                    id: 4,
                    title: "Consegnare progetto di Analisi Finanziaria",
                    description:
                        "Completare l'analisi del caso studio e preparare presentazione",
                    category: "university",
                    priority: "high",
                    dueDate: "18/07/2025",
                    completed: false,
                },
            ];

            // DOM Elements
            const taskInput = document.getElementById("task-input");
            const categorySelect = document.getElementById("category-select");
            const prioritySelect = document.getElementById("priority-select");
            const addBtn = document.getElementById("add-btn");
            const taskList = document.getElementById("task-list");
            const themeToggle = document.getElementById("theme-toggle");
            const shareModal = document.getElementById("share-modal");
            const closeShare = document.getElementById("close-share");
            const shareTaskText = document.getElementById("share-task-text");

            // Update time
            function updateTime() {
                const now = new Date();
                const timeString = now.toLocaleTimeString("it-IT", {
                    hour: "2-digit",
                    minute: "2-digit",
                    second: "2-digit",
                });
                document.getElementById("current-time").textContent =
                    timeString;
            }

            setInterval(updateTime, 1000);
            updateTime();

            // Theme toggle
            themeToggle.addEventListener("click", () => {
                document.body.classList.toggle("light-theme");

                if (document.body.classList.contains("light-theme")) {
                    themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
                } else {
                    themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
                }
            });

            // Render tasks
            function renderTasks() {
                taskList.innerHTML = "";

                tasks.forEach((task) => {
                    const taskItem = document.createElement("div");
                    taskItem.className = `task-item priority-${task.priority} ${task.category}`;
                    if (task.completed) taskItem.classList.add("completed");

                    taskItem.innerHTML = `
                    <div class="task-checkbox ${task.completed ? "checked" : ""}">
                        <i class="fas fa-check"></i>
                    </div>
                    <div class="task-content">
                        <div class="task-header">
                            <div class="task-title">${task.title}</div>
                            <div class="task-category ${task.category}">
                                ${
                                    task.category === "university"
                                        ? "Universit√†"
                                        : task.category === "finance"
                                          ? "Finanza"
                                          : "Personale"
                                }
                            </div>
                        </div>
                        <div class="task-text">${task.description}</div>
                        <div class="task-meta">
                            <div class="task-priority priority-${task.priority}">
                                <span class="priority-dot"></span>
                                ${
                                    task.priority === "high"
                                        ? "Priorit√† Alta"
                                        : task.priority === "medium"
                                          ? "Priorit√† Media"
                                          : "Priorit√† Bassa"
                                }
                            </div>
                            <div class="task-date">
                                <i class="far fa-calendar"></i>
                                Scadenza: ${task.dueDate}
                            </div>
                        </div>
                    </div>
                    <div class="task-actions">
                        <button class="task-btn share-btn" data-id="${task.id}">
                            <i class="fas fa-share-alt"></i>
                        </button>
                        <button class="task-btn delete-btn" data-id="${task.id}">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                `;

                    taskList.appendChild(taskItem);
                });

                // Add event listeners to checkboxes
                document
                    .querySelectorAll(".task-checkbox")
                    .forEach((checkbox) => {
                        checkbox.addEventListener("click", function () {
                            const taskId = parseInt(
                                this.closest(".task-item").querySelector(
                                    ".delete-btn",
                                ).dataset.id,
                            );
                            const task = tasks.find((t) => t.id === taskId);
                            task.completed = !task.completed;
                            this.classList.toggle("checked");
                            this.closest(".task-item").classList.toggle(
                                "completed",
                            );
                            updateStats();
                        });
                    });

                // Add event listeners to delete buttons
                document.querySelectorAll(".delete-btn").forEach((button) => {
                    button.addEventListener("click", function () {
                        const taskId = parseInt(this.dataset.id);
                        tasks = tasks.filter((task) => task.id !== taskId);
                        renderTasks();
                        updateStats();
                    });
                });

                // Add event listeners to share buttons
                document.querySelectorAll(".share-btn").forEach((button) => {
                    button.addEventListener("click", function () {
                        const taskId = parseInt(this.dataset.id);
                        const task = tasks.find((t) => t.id === taskId);
                        shareTaskText.textContent = `${task.title}: ${task.description} (Scadenza: ${task.dueDate})`;
                        shareModal.classList.add("active");
                    });
                });

                updateStats();
            }

            // Update statistics
            function updateStats() {
                const totalTasks = tasks.length;
                const completedTasks = tasks.filter(
                    (task) => task.completed,
                ).length;
                const pendingTasks = totalTasks - completedTasks;

                const universityCount = tasks.filter(
                    (task) => task.category === "university",
                ).length;
                const financeCount = tasks.filter(
                    (task) => task.category === "finance",
                ).length;
                const personalCount = tasks.filter(
                    (task) => task.category === "personal",
                ).length;

                const progress =
                    totalTasks > 0
                        ? Math.round((completedTasks / totalTasks) * 100)
                        : 0;

                document.getElementById("total-tasks").textContent = totalTasks;
                document.getElementById("completed-tasks").textContent =
                    completedTasks;
                document.getElementById("pending-tasks").textContent =
                    pendingTasks;

                document.getElementById("university-count").textContent =
                    `${universityCount} attivit√†`;
                document.getElementById("finance-count").textContent =
                    `${financeCount} attivit√†`;
                document.getElementById("personal-count").textContent =
                    `${personalCount} attivit√†`;

                document.getElementById("progress-fill").style.width =
                    `${progress}%`;
                document.getElementById("progress-percent").textContent =
                    `${progress}% completato`;
                document.getElementById("progress-count").textContent =
                    `${completedTasks}/${totalTasks} attivit√†`;
            }

            // Add new task
            addBtn.addEventListener("click", addTask);
            taskInput.addEventListener("keypress", (e) => {
                if (e.key === "Enter") addTask();
            });

            function addTask() {
                const taskText = taskInput.value.trim();
                if (!taskText) return;

                const newTask = {
                    id:
                        tasks.length > 0
                            ? Math.max(...tasks.map((t) => t.id)) + 1
                            : 1,
                    title: taskText,
                    description: "Nuova attivit√† aggiunta",
                    category: categorySelect.value,
                    priority: prioritySelect.value,
                    dueDate: new Date().toLocaleDateString("it-IT", {
                        day: "2-digit",
                        month: "2-digit",
                        year: "numeric",
                    }),
                    completed: false,
                };

                tasks.push(newTask);
                renderTasks();
                taskInput.value = "";
                taskInput.focus();

                // Show confirmation
                const confirmation = document.createElement("div");
                confirmation.textContent = `Attivit√† "${taskText}" aggiunta!`;
                confirmation.style.position = "fixed";
                confirmation.style.bottom = "20px";
                confirmation.style.right = "20px";
                confirmation.style.background = "var(--accent)";
                confirmation.style.color = "white";
                confirmation.style.padding = "10px 20px";
                confirmation.style.borderRadius = "8px";
                confirmation.style.zIndex = "1000";
                confirmation.style.boxShadow = "0 4px 10px rgba(0,0,0,0.2)";
                document.body.appendChild(confirmation);

                setTimeout(() => {
                    confirmation.style.opacity = "0";
                    setTimeout(() => {
                        document.body.removeChild(confirmation);
                    }, 300);
                }, 2000);
            }

            // Share functionality
            closeShare.addEventListener("click", () => {
                shareModal.classList.remove("active");
            });

            document
                .getElementById("share-whatsapp")
                .addEventListener("click", () => {
                    const text = encodeURIComponent(shareTaskText.textContent);
                    window.open(`https://wa.me/?text=${text}`, "_blank");
                });

            document
                .getElementById("share-email")
                .addEventListener("click", () => {
                    const text = encodeURIComponent(shareTaskText.textContent);
                    window.location.href = `mailto:?body=${text}`;
                });

            document
                .getElementById("share-copy")
                .addEventListener("click", () => {
                    navigator.clipboard.writeText(shareTaskText.textContent);

                    // Show copy confirmation
                    const confirmation = document.createElement("div");
                    confirmation.textContent = "Testo copiato negli appunti!";
                    confirmation.style.position = "fixed";
                    confirmation.style.bottom = "20px";
                    confirmation.style.right = "20px";
                    confirmation.style.background = "var(--accent)";
                    confirmation.style.color = "white";
                    confirmation.style.padding = "10px 20px";
                    confirmation.style.borderRadius = "8px";
                    confirmation.style.zIndex = "1000";
                    confirmation.style.boxShadow = "0 4px 10px rgba(0,0,0,0.2)";
                    document.body.appendChild(confirmation);

                    setTimeout(() => {
                        confirmation.style.opacity = "0";
                        setTimeout(() => {
                            document.body.removeChild(confirmation);
                        }, 300);
                    }, 2000);
                });

            // Calendar functionality
            function generateCalendar() {
                const calendarGrid = document.getElementById("calendar-grid");
                calendarGrid.innerHTML = "";

                // Add day headers
                const days = ["L", "M", "M", "G", "V", "S", "D"];
                days.forEach((day) => {
                    const dayElement = document.createElement("div");
                    dayElement.className = "calendar-day header";
                    dayElement.textContent = day;
                    calendarGrid.appendChild(dayElement);
                });

                // Add days
                for (let i = 1; i <= 31; i++) {
                    const dayElement = document.createElement("div");
                    dayElement.className = "calendar-day";
                    dayElement.textContent = i;

                    // Highlight current day
                    if (i === 16) {
                        dayElement.classList.add("active");
                    }

                    // Mark days with tasks
                    if ([17, 18, 25].includes(i)) {
                        dayElement.classList.add("has-tasks");
                    }

                    calendarGrid.appendChild(dayElement);
                }
            }

            // Pomodoro timer
            let timerInterval;
            let timerRunning = false;
            let timerMinutes = 25;
            let timerSeconds = 0;

            const timerDisplay = document.getElementById("timer-display");

            function updateTimerDisplay() {
                timerDisplay.textContent = `${timerMinutes.toString().padStart(2, "0")}:${timerSeconds.toString().padStart(2, "0")}`;
            }

            function startTimer() {
                if (timerRunning) return;

                timerRunning = true;
                timerInterval = setInterval(() => {
                    if (timerSeconds === 0) {
                        if (timerMinutes === 0) {
                            clearInterval(timerInterval);
                            timerRunning = false;
                            // Play notification sound
                            const audio = new Audio(
                                "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQQAAAAAAA==",
                            );
                            audio.play();
                            alert(
                                "Sessione di focus completata! Prenditi una pausa.",
                            );
                            return;
                        }
                        timerMinutes--;
                        timerSeconds = 59;
                    } else {
                        timerSeconds--;
                    }
                    updateTimerDisplay();
                }, 1000);
            }

            function stopTimer() {
                clearInterval(timerInterval);
                timerRunning = false;
                timerMinutes = 25;
                timerSeconds = 0;
                updateTimerDisplay();
            }

            document
                .querySelector(".timer-btn.start")
                .addEventListener("click", startTimer);
            document
                .querySelector(".timer-btn.stop")
                .addEventListener("click", stopTimer);

            // Initialize the app
            renderTasks();
            generateCalendar();
        </script>
    </body>
</html>
